{{ 'page--shop.css' | asset_url | stylesheet_tag }}

<div class="collection-page">
  {% section 'announcement-slider' %}

  {% paginate collection.products by 10 %}
  
    {% render 'collection-filters' %}
  
    {% for product in collection.products %}
      <ul>
        {% include 'product-card--collection', prod: product %}
      </ul>
    {% else %}
      <p>There are no products in this view.</p>
    {% endfor %}
  
    {% if paginate.pages > 1 %}
      {{ paginate | default_pagination }}
    {% endif %}
  
  {% endpaginate %}
</div>


{% comment %}
  JavaScript for collection sorting.
{% endcomment %}
<script>
jQuery('.sort-by')
  .val('{{ collection.sort_by | default: collection.default_sort_by }}')
  .on('change', function() {
    Shopify.queryParams.sort_by = jQuery(this).val();
    location.search = jQuery.param(Shopify.queryParams).replace(/\+/g, '%20');
  });
</script>